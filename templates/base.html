<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roomie</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <header>
        <h1>Roomie</h1>
			<nav>
				<a href="{{ url_for('index') }}">Ana Sayfa</a>
				{% if 'user_id' in session %}
					<a href="{{ url_for('ilan_ver') }}">İlan Ver</a>
					<a href="{{ url_for('mesajlar') }}">Mesajlar</a>
					<a href="{{ url_for('bildirimler') }}">
						Bildirimler
						{% if unread_notifications > 0 %}
						<span class="notification-badge">{{ unread_notifications }}</span>
						{% endif %}
					</a>
					<a href="{{ url_for('logout') }}">Çıkış Yap ({{ session['username'] }})</a>
				{% else %}
					<a href="{{ url_for('login') }}">Giriş Yap</a>
				{% endif %}
			</nav>
    </header>

    <main>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

    <footer>
        <p>&copy; 2025 Roomie</p>
    </footer>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>